import{_ as D}from"./left_arrow.037609f2.js";import{_ as A,a as T,b as $}from"./playAll.e9928245.js";import{_ as q}from"./sub.f0b346da.js";import{_ as S}from"./comment.17c56d6e.js";import{_ as U}from"./share.56451215.js";import{_ as V}from"./loading.1e3c318a.js";import{_ as M}from"./songInfo.ee9e09a9.js";import{_ as N,d as R,s as z,r as H,a as k,A as P,B as Q,C as G,T as w,D as J,c as i,e as l,j as t,u as p,f,t as r,i as _,F as I,z as F,n as L,h as K,q as O,x as b,E as W,m as X}from"./index.f7fb392c.js";import{n as Y}from"./num.de8f9d34.js";const Z={class:"top"},ss={class:"img_blur"},os=["src"],ts={class:"navSongList"},as={class:"info"},ns={class:"avatar"},is={class:"detail"},ls={class:"title"},es={class:"person"},rs={class:"name"},us={key:0,class:"Follow"},ds={key:1,class:"notFollow"},cs={class:"text"},_s={class:"count"},ps={class:"sub item"},ms={key:0,src:$,alt:""},vs={key:1,src:q,alt:""},gs={class:"share item"},fs={class:"playAll"},ys={class:"play_count"},hs={class:"index"},bs={key:0,width:"18",src:V,alt:""},Cs={key:1},ks=["onClick"],ws={class:"info_top"},Is={class:"song_name"},Fs={key:0,class:"song_TV"},Ls={class:"info_bottom"},Bs={key:0,class:"vip"},Es={key:1,class:"hear_try"},xs={key:2,class:"dujia"},js={key:3,class:"sq"},Ds={key:4,class:"sq"},As={class:"more"},Ts=["onClick"],$s={class:"title"},qs={key:0,class:"babel"},Ss={name:"songList"},Us=R({...Ss,setup(Vs){const m=O(),u=z();H();const o=k({id:0,type:2,numFilter:Y,title:"",navTitle:"\u6B4C\u5355",img:"",description:"",tags:[],subscribed:!1,songListInfo:[],shareCount:0,subscribedCount:0,commentCount:0,show:!1,asc:!1}),c=k({avatar:"",nickname:"",userId:"",followed:!1}),v=m.currentRoute.value.query.id,h=m.currentRoute.value.query.type;P(async()=>{if(u.set_load(!0),o.id=v,o.type=h,h==2){const a=await Q(v);o.title=a.playlist.name,o.img=a.playlist.coverImgUrl,o.description=a.playlist.description,o.tags=a.playlist.tags,o.subscribed=a.playlist.subscribed,o.subscribedCount=a.playlist.subscribedCount,o.commentCount=a.playlist.commentCount,o.shareCount=a.playlist.shareCount,c.avatar=a.playlist.creator.avatarUrl,c.userId=a.playlist.creator.userId,c.nickname=a.playlist.creator.nickname,c.followed=a.playlist.creator.followed;let s=a.playlist.trackIds.map(e=>e.id);const d=await G(s.join(","));o.songListInfo=d.songs.map((e,g)=>({id:e.id,name:e.name,Tv:e.alia.join("/"),author:e.ar.map(n=>n.name).join("/"),img:e.al.picUrl,des:e.al.name,ar:e.ar,al:e.al,mv:e.mv,hr:e==null?void 0:e.hr,sq:d.privileges[g].maxbr>=999e3,vip:d.privileges[g].fee==1,dujia:d.privileges[g].flag==1092}))}else if(h==10){o.navTitle="\u4E13\u8F91",o.type=3,w("\u4E13\u8F91\u90E8\u5206\u6B4C\u66F2\u53EF\u80FD\u65E0\u6CD5\u64AD\u653E"),o.id=v;const a=await J(v);o.title=a.album.name,o.img=a.album.picUrl,o.description=a.album.description,o.tags=a.album.tags,o.subscribed=a.album.info.liked,o.subscribedCount=a.album.info.likedCount,o.commentCount=a.album.info.commentCount,o.shareCount=a.album.info.shareCount,c.avatar=a.album.artist.img1v1Url,c.userId=a.album.artist.id,c.nickname=a.album.artist.name,c.followed=a.album.artist.followed,o.songListInfo=a.songs.map(s=>({id:s.id,name:s.name,Tv:s.alia.join("/"),author:s.ar.map(d=>d.name).join("/"),img:s.al.picUrl,des:s.al.name,ar:s.ar,al:s.al,hr:s==null?void 0:s.hr,sq:s.privilege.maxbr>=999e3,vip:s.privilege.fee==1,dujia:s.privilege.flag==1092,mv:s.mv}))}u.set_load(!1)});function B(a){if(a.id==u.song_info.id){u.play(!u.song_info.isPlaying);return}if(a.resourceId!=u.song_info.id){u.play(!1);let s={id:a.id,name:a.name,author:a.ar.map(d=>d.name).join("/"),type:0,al:a.al.name,img:a.al.picUrl};u.setSongInfo(s)}}const E=()=>{if(o.songListInfo.length==0){w("\u8FD8\u672A\u83B7\u53D6\u5230\u97F3\u4E50\u5217\u8868\uFF0C\u8BF7\u7A0D\u540E");return}let a=[];o.songListInfo.forEach((s,d)=>{a.push({id:s.id,type:0,name:s.name,author:s.author,img:s.img})}),u.add_songList(a)},x=(a,s)=>{a.type=s,u.set_pop_detail(a)},j=a=>{m.push({name:"vid",query:{vid:a}})};return(a,s)=>{const d=b("van-image"),e=b("van-icon"),g=b("van-overlay");return i(),l("div",{class:L({first_div:!0,first_div_song_height:p(u).song_info.id})},[t("div",Z,[t("div",ss,[t("img",{src:o.img,alt:""},null,8,os)]),t("div",ts,[t("div",{class:"left_arrow",onClick:s[0]||(s[0]=n=>p(m).go(-1))},s[5]||(s[5]=[t("img",{src:D,alt:""},null,-1)])),s[6]||(s[6]=t("div",{class:"title"},"\u6B4C\u5355",-1)),s[7]||(s[7]=t("div",{class:"search"},[t("img",{src:A,alt:""})],-1))]),t("div",as,[t("div",ns,[f(d,{radius:"8",class:"img",src:o.img},null,8,["src"])]),t("div",is,[t("div",ls,r(o.title),1),t("div",es,[f(d,{radius:"50%",class:"img",src:c.avatar},null,8,["src"]),t("span",rs,r(c.nickname),1),c.followed?(i(),l("span",us,">")):(i(),l("span",ds,"+"))]),o.description?(i(),l("div",{key:0,class:"des",onClick:s[1]||(s[1]=n=>o.show=!0)},[t("div",cs,r(o.description),1),f(e,{name:"arrow"})])):_("",!0)])])]),t("div",_s,[t("div",ps,[o.subscribed?(i(),l("img",ms)):(i(),l("img",vs)),t("span",null,r(o.numFilter(o.subscribedCount)),1)]),s[10]||(s[10]=t("div",{class:"line"},null,-1)),t("div",{class:"comment item",onClick:s[2]||(s[2]=n=>p(m).push({path:"/comment",query:{id:p(v),type:o.type}}))},[s[8]||(s[8]=t("img",{src:S,alt:""},null,-1)),t("span",null,r(o.numFilter(o.commentCount)),1)]),s[11]||(s[11]=t("div",{class:"line"},null,-1)),t("div",gs,[s[9]||(s[9]=t("img",{src:U,alt:""},null,-1)),t("span",null,r(o.numFilter(o.shareCount)),1)])]),t("div",fs,[t("div",{class:"icon"},[t("img",{onClick:E,src:T,alt:""})]),s[12]||(s[12]=t("div",{class:"text"},[t("div",{class:"play_all_title"},"\u64AD\u653E\u5168\u90E8")],-1)),t("div",ys,"("+r(o.songListInfo.length)+")",1)]),t("div",{class:L(["songList",{songList_no_bar:!p(u).song_info.id}])},[(i(!0),l(I,null,F(o.songListInfo,(n,y)=>(i(),l("div",{class:"song_item",key:y},[t("div",hs,[n.id==p(u).song_info.id?(i(),l("img",bs)):(i(),l("span",Cs,r(y+1),1))]),t("div",{class:"song_info",onClick:C=>B(n)},[t("div",ws,[t("div",Is,r(n.name),1),n.Tv?(i(),l("div",Fs,"\xA0-\xA0"+r(n.Tv),1)):_("",!0)]),t("div",Ls,[n.vip?(i(),l("span",Bs,"vip")):_("",!0),n.vip?(i(),l("span",Es,"\u8BD5\u542C")):_("",!0),n.dujia?(i(),l("span",xs,"\u72EC\u5BB6")):_("",!0),n.hr?(i(),l("span",js,"Hi-Res")):(i(),l("span",Ds,"SQ")),W(" "+r(n.author)+" - "+r(n.des),1)])],8,ks),t("div",As,[n.mv!=0?(i(),X(e,{key:0,name:"play-circle-o",onClick:C=>j(n.mv)},null,8,["onClick"])):_("",!0),t("img",{onClick:C=>x(n,0),src:M,alt:""},null,8,Ts)])]))),128))],2),f(g,{show:o.show,onClick:s[4]||(s[4]=n=>o.show=!1),"lock-scroll":!1},{default:K(()=>[t("div",{class:"wrapper",onClick:s[3]||(s[3]=n=>o.show=!1)},[f(d,{radius:"8",class:"img",src:o.img},null,8,["src"]),t("span",$s,r(o.title),1),o.tags.length?(i(),l("div",qs,[s[13]||(s[13]=t("span",null,"\u6807\u7B7E\uFF1A",-1)),(i(!0),l(I,null,F(o.tags,(n,y)=>(i(),l("span",{class:"babel_item",key:y},r(n),1))),128))])):_("",!0),t("p",null,r(o.description),1)])]),_:1},8,["show"])],2)}}});var Ks=N(Us,[["__scopeId","data-v-0a38c10c"]]);export{Ks as default};
