var j=Object.defineProperty,I=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var g=(o,s,t)=>s in o?j(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t,m=(o,s)=>{for(var t in s||(s={}))E.call(s,t)&&g(o,t,s[t]);if(v)for(var t of v(s))F.call(s,t)&&g(o,t,s[t]);return o},f=(o,s)=>I(o,$(s));import{_ as N}from"./left_arrow_black.54b43e41.js";import{h as R,e as q}from"./discover.bf8586c9.js";import{_ as H,s as M}from"./index.c01db281.js";import{i as T,u as U,l as z,H as A,r as y,R as G,o as i,q as d,y as r,t as n,s as J,F as w,C as k,x as C,A as h,c as L,v as p,J as K,I as O,E as P,G as Q}from"./vendor.1af84381.js";const W=o=>(P("data-v-51104545"),o=o(),Q(),o),X={style:{width:"100vw"}},Y={class:"top_search",style:{display:"flex",width:"100vw"}},Z={style:{flex:"1"}},ee={action:"/"},se=W(()=>r("div",{class:"history"},[r("div",{class:"title"}),r("div",{class:"item"},[r("span")])],-1)),te={key:0,class:"hot"},oe=W(()=>r("div",{class:"title"},"\u70ED\u641C\u699C",-1)),re={class:"list"},ae=["onClick"],ne=["onClick"],ce={name:"search"};function le(o){const s=M(),t=U(),e=z({word:"",hotWord:[],searchHistory:[],suggestWord:[],timer:null});A(async()=>{s.set_load(!0);let c=await R();e.hotWord=c.data,s.set_load(!1)});const x=async()=>{e.suggestWord=[],e.word!=""&&(e.timer&&clearTimeout(e.timer),e.timer=setTimeout(async()=>{let c=await q(e.word);c.result.allMatch&&(e.suggestWord=c.result.allMatch)},1e3))},_=c=>{c?t.push({path:"/searchResult",query:{word:c}}):t.push({path:"/searchResult",query:{word:e.word}})},S=()=>{e.suggestWord.splice(0)};return(c,l)=>{const B=y("van-search"),V=y("van-image"),D=G("word");return i(),d("div",X,[r("div",Y,[r("div",{class:"back",onClick:l[1]||(l[1]=a=>n(t).go(-1)),style:{display:"flex","align-items":"center","justify-content":"center",width:"10vw","margin-left":"10px"}},[r("img",{onClick:l[0]||(l[0]=a=>n(t).go(-1)),src:N,alt:""})]),r("div",Z,[r("form",ee,[J(B,{modelValue:n(e).word,"onUpdate:modelValue":[l[2]||(l[2]=a=>n(e).word=a),l[3]||(l[3]=a=>x())],shape:"round",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",onSearch:_},null,8,["modelValue"])])])]),se,n(e).hotWord.length?(i(),d("div",te,[oe,r("div",re,[(i(!0),d(w,null,k(n(e).hotWord,(a,u)=>(i(),d("div",{class:"item",key:u,onClick:b=>_(a.searchWord)},[r("span",{class:C({three_color:u<3,index:!0})},h(u+1),3),r("span",{class:C({three_text:u<3})},h(a.searchWord),3),a.iconUrl?(i(),L(V,{key:0,class:"img",src:a.iconUrl},null,8,["src"])):p("",!0)],8,ae))),128))])])):p("",!0),n(e).suggestWord.length?(i(),d("div",{key:1,class:"suggest",onClick:S},[(i(!0),d(w,null,k(n(e).suggestWord,(a,u)=>K((i(),d("div",{class:"item",key:u,onClick:b=>_(a.keyword)},[O(h(a.keyword),1)],8,ne)),[[D,n(e).word]])),128))])):p("",!0)])}}const ie=T(f(m({},ce),{setup:le}));var ve=H(ie,[["__scopeId","data-v-51104545"]]);export{ve as default};
