var U=Object.defineProperty,V=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var j=(_,c,e)=>c in _?U(_,c,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[c]=e,F=(_,c)=>{for(var e in c||(c={}))N.call(c,e)&&j(_,e,c[e]);if(I)for(var e of I(c))R.call(c,e)&&j(_,e,c[e]);return _},L=(_,c)=>V(_,M(c));import{_ as H}from"./left_arrow.037609f2.js";import{_ as z,a as G,b as P}from"./playAll.304df0c4.js";import{_ as Q}from"./sub.f0b346da.js";import{_ as J}from"./comment.17c56d6e.js";import{_ as K}from"./share.56451215.js";import{_ as O}from"./loading.ae9c4f02.js";import{_ as W}from"./songInfo.ee9e09a9.js";import{i as X,u as Y,k as Z,l as E,H as ss,T as B,r as k,o as l,q as r,y as o,t as n,s as y,A as u,v as g,F as x,C as A,I as os,c as ts,x as S,w as as,E as ns,G as es}from"./vendor.1af84381.js";import{_ as is,s as ls,a as rs,b as cs,c as ds}from"./index.3f139752.js";import{n as us}from"./num.de8f9d34.js";const v=_=>(ns("data-v-0a38c10c"),_=_(),es(),_),_s={class:"top"},ps={class:"img_blur"},ms=["src"],vs={class:"navSongList"},gs=v(()=>o("img",{src:H,alt:""},null,-1)),fs=[gs],hs=v(()=>o("div",{class:"title"},"\u6B4C\u5355",-1)),ys=v(()=>o("div",{class:"search"},[o("img",{src:G,alt:""})],-1)),bs={class:"info"},Cs={class:"avatar"},ks={class:"detail"},ws={class:"title"},Is={class:"person"},js={class:"name"},Fs={key:0,class:"Follow"},Ls={key:1,class:"notFollow"},Es={class:"text"},Bs={class:"count"},xs={class:"sub item"},As={key:0,src:P,alt:""},Ss={key:1,src:Q,alt:""},Ds=v(()=>o("div",{class:"line"},null,-1)),Ts=v(()=>o("img",{src:J,alt:""},null,-1)),$s=v(()=>o("div",{class:"line"},null,-1)),qs={class:"share item"},Us=v(()=>o("img",{src:K,alt:""},null,-1)),Vs={class:"playAll"},Ms=v(()=>o("div",{class:"text"},[o("div",{class:"play_all_title"},"\u64AD\u653E\u5168\u90E8")],-1)),Ns={class:"play_count"},Rs={class:"index"},Hs={key:0,width:"18",src:O,alt:""},zs={key:1},Gs=["onClick"],Ps={class:"info_top"},Qs={class:"song_name"},Js={key:0,class:"song_TV"},Ks={class:"info_bottom"},Os={key:0,class:"vip"},Ws={key:1,class:"hear_try"},Xs={key:2,class:"dujia"},Ys={key:3,class:"sq"},Zs={key:4,class:"sq"},so={class:"more"},oo=["onClick"],to={class:"title"},ao={key:0,class:"babel"},no=v(()=>o("span",null,"\u6807\u7B7E\uFF1A",-1)),eo={name:"songList"};function io(_){const c=Y(),e=ls();Z();const s=E({id:0,type:2,numFilter:us,title:"",navTitle:"\u6B4C\u5355",img:"",description:"",tags:[],subscribed:!1,songListInfo:[],shareCount:0,subscribedCount:0,commentCount:0,show:!1,asc:!1}),m=E({avatar:"",nickname:"",userId:"",followed:!1}),f=c.currentRoute.value.query.id,C=c.currentRoute.value.query.type;ss(async()=>{if(e.set_load(!0),s.id=f,s.type=C,C==2){const t=await rs(f);s.title=t.playlist.name,s.img=t.playlist.coverImgUrl,s.description=t.playlist.description,s.tags=t.playlist.tags,s.subscribed=t.playlist.subscribed,s.subscribedCount=t.playlist.subscribedCount,s.commentCount=t.playlist.commentCount,s.shareCount=t.playlist.shareCount,m.avatar=t.playlist.creator.avatarUrl,m.userId=t.playlist.creator.userId,m.nickname=t.playlist.creator.nickname,m.followed=t.playlist.creator.followed;let a=t.playlist.trackIds.map(d=>d.id);const p=await cs(a.join(","));s.songListInfo=p.songs.map((d,h)=>({id:d.id,name:d.name,Tv:d.alia.join("/"),author:d.ar.map(i=>i.name).join("/"),img:d.al.picUrl,des:d.al.name,ar:d.ar,al:d.al,mv:d.mv,hr:d==null?void 0:d.hr,sq:p.privileges[h].maxbr>=999e3,vip:p.privileges[h].fee==1,dujia:p.privileges[h].flag==1092}))}else if(C==10){s.navTitle="\u4E13\u8F91",s.type=3,B("\u4E13\u8F91\u90E8\u5206\u6B4C\u66F2\u53EF\u80FD\u65E0\u6CD5\u64AD\u653E"),s.id=f;const t=await ds(f);s.title=t.album.name,s.img=t.album.picUrl,s.description=t.album.description,s.tags=t.album.tags,s.subscribed=t.album.info.liked,s.subscribedCount=t.album.info.likedCount,s.commentCount=t.album.info.commentCount,s.shareCount=t.album.info.shareCount,m.avatar=t.album.artist.img1v1Url,m.userId=t.album.artist.id,m.nickname=t.album.artist.name,m.followed=t.album.artist.followed,s.songListInfo=t.songs.map(a=>({id:a.id,name:a.name,Tv:a.alia.join("/"),author:a.ar.map(p=>p.name).join("/"),img:a.al.picUrl,des:a.al.name,ar:a.ar,al:a.al,hr:a==null?void 0:a.hr,sq:a.privilege.maxbr>=999e3,vip:a.privilege.fee==1,dujia:a.privilege.flag==1092,mv:a.mv}))}e.set_load(!1)});function D(t){if(t.id==e.song_info.id){e.play(!e.song_info.isPlaying);return}if(t.resourceId!=e.song_info.id){e.play(!1);let a={id:t.id,name:t.name,author:t.ar.map(p=>p.name).join("/"),type:0,al:t.al.name,img:t.al.picUrl};e.setSongInfo(a)}}const T=()=>{if(s.songListInfo.length==0){B("\u8FD8\u672A\u83B7\u53D6\u5230\u97F3\u4E50\u5217\u8868\uFF0C\u8BF7\u7A0D\u540E");return}let t=[];s.songListInfo.forEach((a,p)=>{t.push({id:a.id,type:0,name:a.name,author:a.author,img:a.img})}),e.add_songList(t)},$=(t,a)=>{t.type=a,e.set_pop_detail(t)},q=t=>{c.push({name:"vid",query:{vid:t}})};return(t,a)=>{const p=k("van-image"),d=k("van-icon"),h=k("van-overlay");return l(),r("div",{class:S({first_div:!0,first_div_song_height:n(e).song_info.id})},[o("div",_s,[o("div",ps,[o("img",{src:n(s).img,alt:""},null,8,ms)]),o("div",vs,[o("div",{class:"left_arrow",onClick:a[0]||(a[0]=i=>n(c).go(-1))},fs),hs,ys]),o("div",bs,[o("div",Cs,[y(p,{radius:"8",class:"img",src:n(s).img},null,8,["src"])]),o("div",ks,[o("div",ws,u(n(s).title),1),o("div",Is,[y(p,{radius:"50%",class:"img",src:n(m).avatar},null,8,["src"]),o("span",js,u(n(m).nickname),1),n(m).followed?(l(),r("span",Fs,">")):(l(),r("span",Ls,"+"))]),n(s).description?(l(),r("div",{key:0,class:"des",onClick:a[1]||(a[1]=i=>n(s).show=!0)},[o("div",Es,u(n(s).description),1),y(d,{name:"arrow"})])):g("",!0)])])]),o("div",Bs,[o("div",xs,[n(s).subscribed?(l(),r("img",As)):(l(),r("img",Ss)),o("span",null,u(n(s).numFilter(n(s).subscribedCount)),1)]),Ds,o("div",{class:"comment item",onClick:a[2]||(a[2]=i=>n(c).push({path:"/comment",query:{id:n(f),type:n(s).type}}))},[Ts,o("span",null,u(n(s).numFilter(n(s).commentCount)),1)]),$s,o("div",qs,[Us,o("span",null,u(n(s).numFilter(n(s).shareCount)),1)])]),o("div",Vs,[o("div",{class:"icon"},[o("img",{onClick:T,src:z,alt:""})]),Ms,o("div",Ns,"("+u(n(s).songListInfo.length)+")",1)]),o("div",{class:S(["songList",{songList_no_bar:!n(e).song_info.id}])},[(l(!0),r(x,null,A(n(s).songListInfo,(i,b)=>(l(),r("div",{class:"song_item",key:b},[o("div",Rs,[i.id==n(e).song_info.id?(l(),r("img",Hs)):(l(),r("span",zs,u(b+1),1))]),o("div",{class:"song_info",onClick:w=>D(i)},[o("div",Ps,[o("div",Qs,u(i.name),1),i.Tv?(l(),r("div",Js,"\xA0-\xA0"+u(i.Tv),1)):g("",!0)]),o("div",Ks,[i.vip?(l(),r("span",Os,"vip")):g("",!0),i.vip?(l(),r("span",Ws,"\u8BD5\u542C")):g("",!0),i.dujia?(l(),r("span",Xs,"\u72EC\u5BB6")):g("",!0),i.hr?(l(),r("span",Ys,"Hi-Res")):(l(),r("span",Zs,"SQ")),os(" "+u(i.author)+" - "+u(i.des),1)])],8,Gs),o("div",so,[i.mv!=0?(l(),ts(d,{key:0,name:"play-circle-o",onClick:w=>q(i.mv)},null,8,["onClick"])):g("",!0),o("img",{onClick:w=>$(i,0),src:W,alt:""},null,8,oo)])]))),128))],2),y(h,{show:n(s).show,onClick:a[4]||(a[4]=i=>n(s).show=!1),"lock-scroll":!1},{default:as(()=>[o("div",{class:"wrapper",onClick:a[3]||(a[3]=i=>n(s).show=!1)},[y(p,{radius:"8",class:"img",src:n(s).img},null,8,["src"]),o("span",to,u(n(s).title),1),n(s).tags.length?(l(),r("div",ao,[no,(l(!0),r(x,null,A(n(s).tags,(i,b)=>(l(),r("span",{class:"babel_item",key:b},u(i),1))),128))])):g("",!0),o("p",null,u(n(s).description),1)])]),_:1},8,["show"])],2)}}const lo=X(L(F({},eo),{setup:io}));var bo=is(lo,[["__scopeId","data-v-0a38c10c"]]);export{bo as default};
