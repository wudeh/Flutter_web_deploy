import{_ as C}from"./left_arrow.037609f2.js";import{d as x,s as N,a as U,A as w,c as r,e as n,j as s,u as I,i,f as A,t as o,F as M,q as S,W as $,T as V,x as j}from"./index.f7fb392c.js";const q={key:0,class:"nav"},R={key:1,class:"Bg"},T={class:"avatar_info"},W={class:"avatar_wrapper topMove"},Y={class:"name topMove"},z={class:"icondes topMove"},G={key:0,class:"detail_info"},H={class:"icondes"},J={key:0,class:"icondes"},K={class:"icondes"},L={key:1,class:"icondes"},O={key:2,class:"icondes"},P={key:3,class:"icondes"},Q={key:1,class:"detail_info"},X={class:"icondes"},Z={name:"singerDetail"},se=x({...Z,setup(ee){var v;const g=S(),c=N(),E=((v=g.currentRoute.value.query.id)==null?void 0:v.toString())||"",e=U({backgroundUrl:"",name:"",avatarUrl:"",transNames:"",imageDesc:"",briefDesc:"",secondaryExpertIdentiy:"",signature:"",gender:1,birthday:"",error:!1}),m=async()=>{var l,a,d,_,y,f,B,p,D,F,h,k,b;try{e.error=!1,c.set_load(!0);let t=await $(E);if(e.backgroundUrl=((a=(l=t.data)==null?void 0:l.user)==null?void 0:a.backgroundUrl)||t.data.artist.cover,e.avatarUrl=t.data.artist.cover||((_=(d=t.data)==null?void 0:d.user)==null?void 0:_.backgroundUrl),e.name=t.data.artist.name,e.transNames=t.data.artist.transNames.toString(),e.imageDesc=(y=t.data.identify)==null?void 0:y.imageDesc,e.briefDesc=t.data.artist.briefDesc,e.secondaryExpertIdentiy=t.data.secondaryExpertIdentiy.map(u=>u.expertIdentiyName).join("\u3001"),e.signature=((B=(f=t.data)==null?void 0:f.user)==null?void 0:B.signature)||"",e.gender=(D=(p=t.data)==null?void 0:p.user)==null?void 0:D.gender,t.data.user&&((h=(F=t.data)==null?void 0:F.user)==null?void 0:h.birthday)>0){let u=new Date((b=(k=t.data)==null?void 0:k.user)==null?void 0:b.birthday);e.birthday=`${u.getFullYear()}-${u.getMonth()+1}-${u.getDate()}`}c.set_load(!1)}catch{V("\u83B7\u53D6\u6B4C\u624B\u8BE6\u60C5\u5931\u8D25"),e.error=!0,c.set_load(!1)}};return w(async()=>{m()}),(l,a)=>{const d=j("van-image");return r(),n(M,null,[e.name?(r(),n("div",q,[s("div",{class:"left_arrow",onClick:a[0]||(a[0]=_=>I(g).go(-1))},a[1]||(a[1]=[s("img",{src:C,alt:""},null,-1)]))])):i("",!0),e.name?(r(),n("div",R,[A(d,{class:"img",width:"375",height:"280",src:e.backgroundUrl},null,8,["src"]),s("div",T,[s("div",W,[A(d,{class:"img",width:"70",src:e.avatarUrl},null,8,["src"])]),s("div",Y,o(e.name),1),s("div",z,o(e.imageDesc),1)]),e.name?(r(),n("div",G,[a[2]||(a[2]=s("div",{class:"title"},"\u827A\u4EBA\u767E\u79D1",-1)),s("div",H,"\u827A\u4EBA\u540D\uFF1A"+o(e.name),1),e.transNames?(r(),n("div",J,"\u8BD1\u540D\uFF1A"+o(e.transNames),1)):i("",!0),s("div",K,"\u8EAB\u4EFD\uFF1A"+o(e.imageDesc||e.secondaryExpertIdentiy),1),e.gender?(r(),n("div",L,"\u6027\u522B\uFF1A"+o(e.gender==2?"\u5973":"\u7537"),1)):i("",!0),e.birthday?(r(),n("div",O,"\u751F\u65E5\uFF1A"+o(e.birthday),1)):i("",!0),e.signature?(r(),n("div",P,"\u4E2A\u4EBA\u7B80\u4ECB\uFF1A"+o(e.signature),1)):i("",!0)])):i("",!0),e.name?(r(),n("div",Q,[a[3]||(a[3]=s("div",{class:"title"},"\u6B4C\u624B\u7B80\u4ECB",-1)),s("div",X,o(e.briefDesc),1)])):i("",!0)])):i("",!0),e.error?(r(),n("div",{key:2,class:"loadAgain",onClick:m},"\u8BF7\u6C42\u51FA\u9519\uFF0C\u70B9\u51FB\u91CD\u8BD5")):i("",!0)],64)}}});export{se as default};
