import{_ as x}from"./left_arrow_black.54b43e41.js";import{i as B,e as S}from"./discover.3b167b79.js";import{_ as V,d as D,s as $,a as E,A as F,c as a,e as n,j as s,u as g,f as N,F as v,z as m,i as d,q,x as h,O as M,n as p,t as u,m as R,G as T,E as U}from"./index.105eb99a.js";const j={style:{width:"100vw"}},z={class:"top_search",style:{display:"flex",width:"100vw"}},H={style:{flex:"1"}},b={action:"/"},A={key:0,class:"hot"},G={class:"list"},I=["onClick"],L=["onClick"],O={name:"search"},J=D({...O,setup(K){const _=$(),i=q(),e=E({word:"",hotWord:[],searchHistory:[],suggestWord:[],timer:null});F(async()=>{_.set_load(!0);let r=await B();e.hotWord=r.data,_.set_load(!1)});const f=async()=>{e.suggestWord=[],e.word!=""&&(e.timer&&clearTimeout(e.timer),e.timer=setTimeout(async()=>{let r=await S(e.word);r.result.allMatch&&(e.suggestWord=r.result.allMatch)},1e3))},c=r=>{r?i.push({path:"/searchResult",query:{word:r}}):i.push({path:"/searchResult",query:{word:e.word}})},y=()=>{e.suggestWord.splice(0)};return(r,t)=>{const w=h("van-search"),k=h("van-image"),C=M("word");return a(),n("div",j,[s("div",z,[s("div",{class:"back",onClick:t[1]||(t[1]=o=>g(i).go(-1)),style:{display:"flex","align-items":"center","justify-content":"center",width:"10vw","margin-left":"10px"}},[s("img",{onClick:t[0]||(t[0]=o=>g(i).go(-1)),src:x,alt:""})]),s("div",H,[s("form",b,[N(w,{modelValue:e.word,"onUpdate:modelValue":[t[2]||(t[2]=o=>e.word=o),t[3]||(t[3]=o=>f())],shape:"round",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",onSearch:c},null,8,["modelValue"])])])]),t[5]||(t[5]=s("div",{class:"history"},[s("div",{class:"title"}),s("div",{class:"item"},[s("span")])],-1)),e.hotWord.length?(a(),n("div",A,[t[4]||(t[4]=s("div",{class:"title"},"\u70ED\u641C\u699C",-1)),s("div",G,[(a(!0),n(v,null,m(e.hotWord,(o,l)=>(a(),n("div",{class:"item",key:l,onClick:W=>c(o.searchWord)},[s("span",{class:p({three_color:l<3,index:!0})},u(l+1),3),s("span",{class:p({three_text:l<3})},u(o.searchWord),3),o.iconUrl?(a(),R(k,{key:0,class:"img",src:o.iconUrl},null,8,["src"])):d("",!0)],8,I))),128))])])):d("",!0),e.suggestWord.length?(a(),n("div",{key:1,class:"suggest",onClick:y},[(a(!0),n(v,null,m(e.suggestWord,(o,l)=>T((a(),n("div",{class:"item",key:l,onClick:W=>c(o.keyword)},[U(u(o.keyword),1)],8,L)),[[C,e.word]])),128))])):d("",!0)])}}});var Y=V(J,[["__scopeId","data-v-51104545"]]);export{Y as default};
