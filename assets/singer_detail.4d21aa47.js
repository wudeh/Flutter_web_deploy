var M=Object.defineProperty,S=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var x=(n,s,r)=>s in n?M(n,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[s]=r,N=(n,s)=>{for(var r in s||(s={}))$.call(s,r)&&x(n,r,s[r]);if(C)for(var r of C(s))V.call(s,r)&&x(n,r,s[r]);return n},U=(n,s)=>S(n,j(s));import{_ as q}from"./left_arrow.037609f2.js";import{i as R,u as T,l as H,H as Y,r as z,o as i,q as d,t,y as o,v as u,s as w,A as c,F as G,T as J}from"./vendor.1af84381.js";import{s as K,k as L}from"./index.c01db281.js";const O={key:0,class:"nav"},P=o("img",{src:q,alt:""},null,-1),Q=[P],W={key:1,class:"Bg"},X={class:"avatar_info"},Z={class:"avatar_wrapper topMove"},ee={class:"name topMove"},te={class:"icondes topMove"},se={key:0,class:"detail_info"},ae=o("div",{class:"title"},"\u827A\u4EBA\u767E\u79D1",-1),re={class:"icondes"},oe={key:0,class:"icondes"},ne={class:"icondes"},ie={key:1,class:"icondes"},de={key:2,class:"icondes"},ue={key:3,class:"icondes"},ce={key:1,class:"detail_info"},le=o("div",{class:"title"},"\u6B4C\u624B\u7B80\u4ECB",-1),_e={class:"icondes"},ge={name:"singerDetail"};function me(n){var h;const s=T(),r=K(),I=((h=s.currentRoute.value.query.id)==null?void 0:h.toString())||"",e=H({backgroundUrl:"",name:"",avatarUrl:"",transNames:"",imageDesc:"",briefDesc:"",secondaryExpertIdentiy:"",signature:"",gender:1,birthday:"",error:!1}),y=async()=>{var m,l,_,v,f,p,B,D,F,k,b,A,E;try{e.error=!1,r.set_load(!0);let a=await L(I);if(e.backgroundUrl=((l=(m=a.data)==null?void 0:m.user)==null?void 0:l.backgroundUrl)||a.data.artist.cover,e.avatarUrl=a.data.artist.cover||((v=(_=a.data)==null?void 0:_.user)==null?void 0:v.backgroundUrl),e.name=a.data.artist.name,e.transNames=a.data.artist.transNames.toString(),e.imageDesc=(f=a.data.identify)==null?void 0:f.imageDesc,e.briefDesc=a.data.artist.briefDesc,e.secondaryExpertIdentiy=a.data.secondaryExpertIdentiy.map(g=>g.expertIdentiyName).join("\u3001"),e.signature=((B=(p=a.data)==null?void 0:p.user)==null?void 0:B.signature)||"",e.gender=(F=(D=a.data)==null?void 0:D.user)==null?void 0:F.gender,a.data.user&&((b=(k=a.data)==null?void 0:k.user)==null?void 0:b.birthday)>0){let g=new Date((E=(A=a.data)==null?void 0:A.user)==null?void 0:E.birthday);e.birthday=`${g.getFullYear()}-${g.getMonth()+1}-${g.getDate()}`}r.set_load(!1)}catch{J("\u83B7\u53D6\u6B4C\u624B\u8BE6\u60C5\u5931\u8D25"),e.error=!0,r.set_load(!1)}};return Y(async()=>{y()}),(m,l)=>{const _=z("van-image");return i(),d(G,null,[t(e).name?(i(),d("div",O,[o("div",{class:"left_arrow",onClick:l[0]||(l[0]=v=>t(s).go(-1))},Q)])):u("",!0),t(e).name?(i(),d("div",W,[w(_,{class:"img",width:"375",height:"280",src:t(e).backgroundUrl},null,8,["src"]),o("div",X,[o("div",Z,[w(_,{class:"img",width:"70",src:t(e).avatarUrl},null,8,["src"])]),o("div",ee,c(t(e).name),1),o("div",te,c(t(e).imageDesc),1)]),t(e).name?(i(),d("div",se,[ae,o("div",re,"\u827A\u4EBA\u540D\uFF1A"+c(t(e).name),1),t(e).transNames?(i(),d("div",oe,"\u8BD1\u540D\uFF1A"+c(t(e).transNames),1)):u("",!0),o("div",ne,"\u8EAB\u4EFD\uFF1A"+c(t(e).imageDesc||t(e).secondaryExpertIdentiy),1),t(e).gender?(i(),d("div",ie,"\u6027\u522B\uFF1A"+c(t(e).gender==2?"\u5973":"\u7537"),1)):u("",!0),t(e).birthday?(i(),d("div",de,"\u751F\u65E5\uFF1A"+c(t(e).birthday),1)):u("",!0),t(e).signature?(i(),d("div",ue,"\u4E2A\u4EBA\u7B80\u4ECB\uFF1A"+c(t(e).signature),1)):u("",!0)])):u("",!0),t(e).name?(i(),d("div",ce,[le,o("div",_e,c(t(e).briefDesc),1)])):u("",!0)])):u("",!0),t(e).error?(i(),d("div",{key:2,class:"loadAgain",onClick:y},"\u8BF7\u6C42\u51FA\u9519\uFF0C\u70B9\u51FB\u91CD\u8BD5")):u("",!0)],64)}}const pe=R(U(N({},ge),{setup:me}));export{pe as default};
