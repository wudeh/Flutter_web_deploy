import{r as v,o as c,c as m,w as E,a as A,b as r,T as g,d as D,e as x,f as F,g as w,L,V as P,h as S}from"./vendor.1af84381.js";const $=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerpolicy&&(e.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?e.credentials="include":n.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(n){if(n.ep)return;n.ep=!0;const e=t(n);fetch(n.href,e)}};$();var T=(i,s)=>{const t=i.__vccOpts||i;for(const[o,n]of s)t[o]=n;return t};const k={};function j(i,s){const t=v("router-view");return c(),m(t,null,{default:E(({Component:o})=>[(c(),m(A(o)))]),_:1})}var C=T(k,[["render",j]]);const b="modulepreload",p={},R="/",a=function(s,t){return!t||t.length===0?s():Promise.all(t.map(o=>{if(o=`${R}${o}`,o in p)return;p[o]=!0;const n=o.endsWith(".css"),e=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${e}`))return;const l=document.createElement("link");if(l.rel=n?"stylesheet":b,n||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),n)return new Promise((u,_)=>{l.addEventListener("load",u),l.addEventListener("error",_)})})).then(()=>s())};r.defaults.baseURL="https://n.xlz122.cn/api/";r.interceptors.request.use(i=>{var o;const s=new Date().getTime();((o=i.url)==null?void 0:o.indexOf("?"))!=-1?i.url=i.url+`&timestamp=${s}`:i.url=i.url+`?timestamp=${s}`,i.data=Object.assign({},i.data),i.data.timestamp=s;const t=localStorage.getItem("cookieMusic");if(t){const n=encodeURIComponent(t);i.method=="get"&&(i.url=i.url+`?cookie=${n}`),i.data.cookie=n}return i},i=>Promise.reject(i));r.interceptors.response.use(i=>i.data,i=>(g("\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5"),Promise.resolve({msg:"\u7F51\u7EDC\u9519\u8BEF",code:400})));function H(i){return r.post("/playlist/detail",{id:i})}function f(i,s=0){return r.post("/song/url",{id:i,realIP:"116.25.146.177"})}function q(i){return r.post("/song/detail",{ids:i})}function B(i){return r.get(`/lyric?id=${i}&timestamp=${new Date().getTime()}`)}function O(i,s,t,o=20,n,e){return e?r.get(`/comment/new?id=${i}&type=${s}&pageNo=${t}&pageSize=${o}&sortType=${n}&cursor=${e}`):r.get(`/comment/new?id=${i}&type=${s}&pageNo=${t}&pageSize=${o}&sortType=${n}`)}function U(i,s,t,o,n){return o?r.get(`/comment/floor?parentCommentId=${s}&id=${i}&type=${t}&time=${o}`):r.get(`/comment/floor?parentCommentId=${s}&id=${i}&type=${t}`)}function z(i){return r.get(`/dj/detail?rid=${i}`)}function W(i,s=!1,t=999,o=0){return r.get(`/dj/program?rid=${i}&limit=${t}&asc=${s}`)}function J(i){return r.get(`/playlist/detail?id=${i}`)}function K(i){return r.get(`/album?id=${i}`)}function G(i){return r.get(`/toplist/artist?type=${i}`)}function Q(i){return r.get(`/artist/detail?id=${i}`)}var M=D({id:"song",state:()=>({song_info:{id:localStorage.getItem("songId")||"",name:localStorage.getItem("songName")||"",author:localStorage.getItem("songAuthor")||"",img:localStorage.getItem("songImg")||"",url:"",type:0,al:localStorage.getItem("songAl")||"",isPlaying:!1,lyric:"",lyricAll:[],currentTime:0,progressTime:0,duration:0,buffered:0,volume:1,commentcount:0,list:[],listIndex:0,playMode:1,timer:null},showLoading:!1,showList:!1,showPop:!1,showFloor:!1,showDetail:!1,song_pop_detail:{id:0,name:"",author:"",img:"",url:"",al:"",commentCount:0,type:0},download_list:[]}),actions:{set_load(i){this.showLoading=i},async lyricRequest(){var t,o;let i=[];const s=await B(this.song_info.id);if((t=s==null?void 0:s.lrc)==null?void 0:t.lyric){let n=s.lrc.lyric.split("[");if(n.forEach((e,l)=>{let u={time:e.split("]")[0].split(":")[0]*60+e.split("]")[0].split(":")[1]*1,lyric:e.split("]")[1]||n[l+1].split("]")[1]||""};u.lyric!=`
`&&!Number.isNaN(u.time)&&i.push(u)}),i.push({time:"9999",lyric:"wudeh"}),i.sort((e,l)=>e.time-l.time),(o=s==null?void 0:s.tlyric)==null?void 0:o.lyric){let e=s.tlyric.lyric.split("[");e.forEach((l,u)=>{let _={time:l.split("]")[0].split(":")[0]*60+l.split("]")[0].split(":")[1]*1||0,lyric:l.split("]")[1]||e[u+1].split("]")[1]||""};i.forEach((y,I)=>{y.time==_.time&&(i[I].lyric+=`<br>${_.lyric}`)})})}}else i.push({time:"9999",lyric:"\u5F53\u524D\u97F3\u4E50\u6682\u65E0\u6B4C\u8BCD"});this.song_info.lyricAll=i},set_all_lyric(i){this.song_info.lyricAll=i},set_lyric(i){this.song_info.lyric=i},setSongInfo(i){i.url&&(this.song_info.url=i.url),this.song_info.id=i.id,this.song_info.name=i.name,this.song_info.author=i.author,this.song_info.img=i.img,this.song_info.type=i.type,this.song_info.al=i.al,localStorage.setItem("songId",this.song_info.id),localStorage.setItem("songName",this.song_info.name),localStorage.setItem("songAuthor",this.song_info.author),localStorage.setItem("songImg",this.song_info.img),localStorage.setItem("songType",JSON.stringify(this.song_info.type)),this.song_info.list=this.song_info.list.concat(i),this.song_info.listIndex+=1},play(i){this.song_info.isPlaying=i},set_song_url(i){this.song_info.url=i},set_song_allTime(i){this.song_info.duration=Math.floor(i)},set_song_time(i){this.song_info.currentTime=i},set_progress_time(i){this.song_info.progressTime=i},set_song_buffered(i){this.song_info.buffered=i},set_volume(i){this.song_info.volume=i},add_songList(i){this.song_info.list.splice(0),this.song_info.list=this.song_info.list.concat(i),this.song_info.listIndex=0,this.song_info.name=this.song_info.list[this.song_info.listIndex].name,this.song_info.author=this.song_info.list[this.song_info.listIndex].author,this.song_info.img=this.song_info.list[this.song_info.listIndex].img,this.song_info.type=this.song_info.list[this.song_info.listIndex].type,this.song_info.id=this.song_info.list[this.song_info.listIndex].id},add_song(i){let s=!1;this.song_info.list.forEach(t=>{console.log(t.id),t.id==i.id&&(g("\u5DF2\u5728\u64AD\u653E\u5217\u8868"),s=!0)}),!s&&(this.song_info.list.splice(this.song_info.listIndex+1,0,i),g("\u5DF2\u6DFB\u52A0\u5230\u64AD\u653E\u5217\u8868"),this.song_info.list.length===1&&(this.song_info.listIndex=0,this.song_info.id=this.song_info.list[this.song_info.listIndex].id,this.song_info.name=this.song_info.list[this.song_info.listIndex].name,this.song_info.author=this.song_info.list[this.song_info.listIndex].author,this.song_info.img=this.song_info.list[this.song_info.listIndex].img))},add_local_info(i){this.song_info.list.push(i),this.song_info.listIndex=0,this.song_info.id=i.id,this.song_info.name=i.name,this.song_info.author=i.author,this.song_info.img=i.img,this.song_info.type=i.type},set_pop_list(i){this.showList=i,i&&(this.showPop=!0)},set_floor_comment(i){this.showFloor=i,i&&(this.showPop=!0)},download_progress(i){let s=!1;this.download_list.forEach(t=>{if(t.id==i.id){t.progress=i.progress,s=!0;return}}),s||this.download_list.push(i)},close(){this.showList&&(this.showList=!1),this.showFloor=!1,this.showPop=!1,this.showDetail=!1},set_circulate(){this.song_info.playMode++,this.song_info.playMode>3&&(this.song_info.playMode=1),this.song_info.playMode==1&&g("\u5217\u8868\u5FAA\u73AF\u64AD\u653E"),this.song_info.playMode==2&&g("\u968F\u673A\u64AD\u653E"),this.song_info.playMode==3&&g("\u5355\u66F2\u5FAA\u73AF")},async play_next(i){var s;if(console.log(this.song_info.list),this.song_info.list.length==1){g("\u5F53\u524D\u5217\u8868\u53EA\u6709\u4E00\u9996\u6B4C");return}if(this.song_info.list.forEach((t,o)=>{t.id==this.song_info.id&&(this.song_info.listIndex=o)}),this.song_info.isPlaying=!1,this.set_song_time(0),this.song_info.playMode==1&&(i<0?(console.log("\u64AD\u653E\u4E0A\u4E00\u9996"),this.song_info.listIndex--,this.song_info.listIndex<0&&(this.song_info.listIndex=this.song_info.list.length-1)):i?(console.log("\u64AD\u653E\u6307\u5B9Aid\u6B4C\u66F2"),this.song_info.list.forEach((t,o)=>{t.id==i&&(this.song_info.listIndex=o)})):(console.log("\u6B63\u5728\u64AD\u653E\u4E0B\u4E00\u9996"),this.song_info.listIndex++,console.log(this.song_info.list[this.song_info.listIndex]),this.song_info.listIndex>this.song_info.list.length-1&&(this.song_info.listIndex=0))),this.song_info.playMode==2&&(this.song_info.listIndex=Math.floor(Math.random()*this.song_info.list.length)),this.song_info.playMode==3){this.song_info.isPlaying=!0,g("\u5F53\u524D\u64AD\u653E\u6A21\u5F0F\u4E3A\u5355\u66F2\u5FAA\u73AF\uFF0C\u91CD\u65B0\u64AD\u653E");return}if((s=this.song_info.list[this.song_info.listIndex])==null?void 0:s.url)this.song_info.url=this.song_info.list[this.song_info.listIndex].url,this.song_info.id=this.song_info.list[this.song_info.listIndex].id,this.song_info.name=this.song_info.list[this.song_info.listIndex].name,this.song_info.author=this.song_info.list[this.song_info.listIndex].author,this.song_info.img=this.song_info.list[this.song_info.listIndex].img;else{const t=await f(this.song_info.list[this.song_info.listIndex].id);this.song_info.url=t.data[0].url,this.song_info.list[this.song_info.listIndex].url=t.data[0].url,this.song_info.id=this.song_info.list[this.song_info.listIndex].id,this.song_info.name=this.song_info.list[this.song_info.listIndex].name,this.song_info.author=this.song_info.list[this.song_info.listIndex].author,this.song_info.img=this.song_info.list[this.song_info.listIndex].img}},async play_by_id(i){if(this.song_info.list.forEach((s,t)=>{s.id==i&&(this.song_info.listIndex=t)}),this.song_info.list[this.song_info.listIndex].url)this.song_info.url=this.song_info.list[this.song_info.listIndex].url,this.song_info.id=this.song_info.list[this.song_info.listIndex].id,this.song_info.name=this.song_info.list[this.song_info.listIndex].name,this.song_info.author=this.song_info.list[this.song_info.listIndex].author,this.song_info.img=this.song_info.list[this.song_info.listIndex].img,this.song_info.type=this.song_info.list[this.song_info.listIndex].type;else{const s=await f(this.song_info.list[this.song_info.listIndex].id);this.song_info.url=s.data[0].url,this.song_info.list[this.song_info.listIndex].url=s.data[0].url,this.song_info.id=this.song_info.list[this.song_info.listIndex].id,this.song_info.name=this.song_info.list[this.song_info.listIndex].name,this.song_info.author=this.song_info.list[this.song_info.listIndex].author,this.song_info.img=this.song_info.list[this.song_info.listIndex].img,this.song_info.type=this.song_info.list[this.song_info.listIndex].type}},async set_pop_detail(i){if(this.showDetail=!0,this.song_pop_detail.id!=i.id){i.type===4?(this.song_pop_detail.author=i.author,this.song_pop_detail.img=i.img,this.song_pop_detail.id=i.id,this.song_pop_detail.name=i.name,this.song_pop_detail.al="\u65E0"):(this.song_pop_detail=Object.assign({},i),i.isSongClik?(this.song_pop_detail.author=i.author,this.song_pop_detail.img=i.img):(this.song_pop_detail.author=i.ar.map(s=>s.name).join("/"),this.song_pop_detail.img=i.al.picUrl,this.song_pop_detail.al=i.al.name)),this.song_pop_detail.type=i.type;try{let s=await O(i.id,i.type,1,20,3);this.song_pop_detail.commentCount=s.data.totalCount}catch{g("\u8BC4\u8BBA\u83B7\u53D6\u5931\u8D25")}try{let s=await f(i.id);g("\u5DF2\u83B7\u53D6\u5230\u4E0B\u8F7D\u94FE\u63A5\uFF0C\u53EF\u4EE5\u4E0B\u8F7D\u4E86"),this.song_pop_detail.url=s.data[0].url}catch{g("\u4E0B\u8F7D\u94FE\u63A5\u83B7\u53D6\u5931\u8D25")}}},async delete(i){let s=0;if(this.song_info.list.forEach((t,o)=>{t.id==i&&(s=o)}),this.song_info.list.length==1)this.song_info.list.splice(0),this.song_info.listIndex=0,this.song_info.isPlaying=!1,this.song_info.name="",this.song_info.author="",this.song_info.type=0,this.song_info.id="",this.song_info.img="",localStorage.removeItem("songId"),localStorage.removeItem("songName"),localStorage.removeItem("songAuthor"),localStorage.removeItem("songImg"),localStorage.removeItem("songType"),this.close(),h.currentRoute.value.name=="song"&&h.go(-1);else{if(i==this.song_info.id){s++,s>this.song_info.list.length-1&&(s=0);const t=await f(this.song_info.list[s].id);this.song_info.url=t.data[0].url,this.song_info.list[s].url=t.data[0].url,this.song_info.id=this.song_info.list[s].id,this.song_info.name=this.song_info.list[s].name,this.song_info.author=this.song_info.list[s].author,this.song_info.img=this.song_info.list[s].img}this.song_info.list.forEach((t,o)=>{t.id==i&&(s=o)}),this.song_info.list.splice(s,1),this.song_info.list.forEach((t,o)=>{t.id==this.song_info.id&&(this.song_info.listIndex=o)})}},delete_all(){this.song_info.list.splice(0),this.song_info.listIndex=0,this.song_info.isPlaying=!1,this.song_info.name="",this.song_info.author="",this.song_info.type=0,this.song_info.id="",this.song_info.img="",localStorage.removeItem("songId"),localStorage.removeItem("songName"),localStorage.removeItem("songAuthor"),localStorage.removeItem("songImg"),localStorage.removeItem("songType"),this.close(),h.currentRoute.value.name=="song"&&h.go(-1)}}});const V=[{path:"/",name:"Home",component:()=>a(()=>import("./Home.d046e242.js"),["assets/Home.d046e242.js","assets/Home.dba6e071.css","assets/vendor.1af84381.js","assets/loading.ae9c4f02.js","assets/sub.f0b346da.js","assets/comment.17c56d6e.js","assets/share.56451215.js","assets/download.b524dcdf.js"]),meta:{keepAlive:!0,level:1,transitionName:""},children:[{path:"/songList",name:"songList",meta:{keepAlive:!0,level:8},component:()=>a(()=>import("./songList.d067efed.js"),["assets/songList.d067efed.js","assets/songList.fa642f58.css","assets/left_arrow.037609f2.js","assets/playAll.304df0c4.js","assets/sub.f0b346da.js","assets/comment.17c56d6e.js","assets/share.56451215.js","assets/loading.ae9c4f02.js","assets/songInfo.ee9e09a9.js","assets/vendor.1af84381.js","assets/num.de8f9d34.js"])},{path:"/song",name:"song",component:()=>a(()=>import("./song.42502b24.js"),["assets/song.42502b24.js","assets/song.a7a81a80.css","assets/vendor.1af84381.js","assets/share.56451215.js","assets/core.esm.21b99625.js","assets/songInfo.ee9e09a9.js","assets/play_white.b19edd9c.js","assets/num.de8f9d34.js","assets/download.b524dcdf.js"]),meta:{keepAlive:!0,level:55}},{path:"/discover",name:"discover",meta:{keepAlive:!0,level:1},component:()=>a(()=>import("./discover.32a0ca84.js"),["assets/discover.32a0ca84.js","assets/discover.89517ca6.css","assets/vendor.1af84381.js","assets/core.esm.21b99625.js","assets/loading.ae9c4f02.js","assets/discover.17d1b4bc.js","assets/num.de8f9d34.js"])},{path:"/searchResult",name:"searchResult",component:()=>a(()=>import("./searchResult.a2a46e92.js"),["assets/searchResult.a2a46e92.js","assets/searchResult.650c08ac.css","assets/vendor.1af84381.js","assets/left_arrow_black.54b43e41.js","assets/loading.ae9c4f02.js","assets/play_white.b19edd9c.js","assets/discover.17d1b4bc.js","assets/num.de8f9d34.js"]),meta:{keepAlive:!0,level:3}},{path:"/comment",name:"comment",component:()=>a(()=>import("./comment.55c460ef.js"),["assets/comment.55c460ef.js","assets/comment.1e86f5e5.css","assets/vendor.1af84381.js","assets/loading.ae9c4f02.js","assets/left_arrow_black.54b43e41.js","assets/commentText.d81f05e2.js","assets/commentText.42925ab5.css","assets/num.de8f9d34.js"]),meta:{keepAlive:!0,level:100}},{path:"/search",name:"search",component:()=>a(()=>import("./search.ad9bbf7c.js"),["assets/search.ad9bbf7c.js","assets/search.cbcebc09.css","assets/left_arrow_black.54b43e41.js","assets/discover.17d1b4bc.js","assets/vendor.1af84381.js"]),meta:{keepAlive:!0,level:2}},{path:"/download",name:"download",component:()=>a(()=>import("./download.b3636eb9.js"),["assets/download.b3636eb9.js","assets/download.bb855898.css","assets/left_arrow_black.54b43e41.js","assets/vendor.1af84381.js"]),meta:{keepAlive:!0,level:9}},{path:"/djProgram",name:"djProgram",component:()=>a(()=>import("./djProgram.36289c76.js"),["assets/djProgram.36289c76.js","assets/djProgram.9257381c.css","assets/left_arrow.037609f2.js","assets/playAll.304df0c4.js","assets/sub.f0b346da.js","assets/comment.17c56d6e.js","assets/share.56451215.js","assets/loading.ae9c4f02.js","assets/songInfo.ee9e09a9.js","assets/vendor.1af84381.js","assets/num.de8f9d34.js"]),meta:{keepAlive:!0,level:9}},{path:"/vid",name:"vid",component:()=>a(()=>import("./video.bce7ad12.js"),["assets/video.bce7ad12.js","assets/video.bc91f6fe.css","assets/vendor.1af84381.js","assets/left_arrow.037609f2.js","assets/commentText.d81f05e2.js","assets/commentText.42925ab5.css","assets/sub.f0b346da.js","assets/share.56451215.js","assets/play_white.b19edd9c.js","assets/loading.ae9c4f02.js","assets/num.de8f9d34.js"]),meta:{keepAlive:!0,level:9}},{path:"/rank",name:"rank",component:()=>a(()=>import("./rank.a620424a.js"),["assets/rank.a620424a.js","assets/rank.a6e48a14.css","assets/left_arrow_black.54b43e41.js","assets/vendor.1af84381.js","assets/discover.17d1b4bc.js"]),meta:{keepAlive:!0,level:5}},{path:"/singer",name:"singer",component:()=>a(()=>import("./singer.f3c8b04d.js"),["assets/singer.f3c8b04d.js","assets/singer.ed146999.css","assets/left_arrow_black.54b43e41.js","assets/loading.ae9c4f02.js","assets/vendor.1af84381.js"]),meta:{keepAlive:!0,level:6}},{path:"/singerDetail",name:"singerDetail",component:()=>a(()=>import("./singer_detail.fdedc317.js"),["assets/singer_detail.fdedc317.js","assets/singer_detail.79cfaf48.css","assets/left_arrow.037609f2.js","assets/vendor.1af84381.js"]),meta:{keepAlive:!0,level:101}}]},{path:"/404",name:"404",component:()=>a(()=>import("./404.a2183539.js"),["assets/404.a2183539.js","assets/404.0cfb5cba.css","assets/vendor.1af84381.js"])},{path:"/:pathMatch(.*)",redirect:"/404"}],h=x({history:F(),routes:V,scrollBehavior(i,s,t){if(t)return sessionStorage.setItem("scrollTop",t.top.toString()),t}});h.beforeEach((i,s,t)=>{const o=M();if(["songList","searchResult","comment","djProgram","album","vid","singerDetail"].includes(i.name.toString())&&Object.keys(i.query).length==0)return g("\u4F60\u53EF\u771F\u662F\u4E2A\u5C0F\u57FA\u4F6C"),t("/gay");if(o.song_info.list.length==0&&i.name=="song")return g("\u4F60\u53EF\u771F\u662F\u4E2A\u5C0F\u57FA\u4F6C"),t("/gay");if(i.name=="Home"&&s.name)return o.close(),t(!1);if(i.name=="Home")return o.close(),t("/discover");if(s.name=="searchResult"&&i.name=="comment")o.close();else if(o.showPop)return o.close(),t(!1);t()});h.afterEach(()=>{});const d=w(C);d.directive("word",{mounted(i,s){s.value.split(" ").forEach(o=>{o&&(i.innerHTML=i.innerHTML.replaceAll(o,`<span style='color:rgb(0, 153, 255)'>${o}</span>`))})}});d.use(L);d.use(P);d.use(S()).use(h).mount("#app");export{T as _,H as a,q as b,K as c,O as d,J as e,U as f,f as g,z as h,W as i,G as j,Q as k,M as s};
